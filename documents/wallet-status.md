# ูุถุนุช ฺฉู ูพูู - Wallet Status

## โ ุชฺฉูู ุดุฏู (Completed)

### Backend
- โ Model Wallet ุจุง ููุฏ is_shared
- โ Repository Pattern ุจุง ูุชุฏูุง getSharedAdminWallet ู getOrCreateSharedAdminWallet
- โ Service Layer ุจุง WalletService
- โ Controller ุจุง 4 endpoint ฺฉุงูู
- โ Form Request ุจุฑุง ุงุนุชุจุงุฑุณูุฌ
- โ Policy ุจุฑุง ฺฉูุชุฑู ุฏุณุชุฑุณ
- โ Migration ุจุฑุง ุงูุฒูุฏู is_shared ู nullable ฺฉุฑุฏู user_id
- โ Seeder ุจุฑุง ุงุฌุงุฏ ฺฉู ูพูู ูุดุชุฑฺฉ ุงุฏูู
- โ ุซุจุช ุณุฑูุณ ู Policy ุฏุฑ AppServiceProvider
- โ Routes ุจุง ุณุงุฎุชุงุฑ ููุงุณุจ
- โ Swagger Documentation ฺฉุงูู
- โ ุชุณุชโูุง ุฌุงูุน (20+ ุชุณุช)

### Frontend
- โ WalletDropdown component ุจุง UI ุฒุจุง
- โ UserDropdown component (ุฌุฏุงฺฏุงูู)
- โ Header ุจุง ุขฺฉู ฺฉู ูพูู
- โ Pages ุจุฑุง success ู failed
- โ Hooks ุจุฑุง API calls
- โ Routes ุงุถุงูู ุดุฏู
- โ Format amount ุจุง ุงุนุฏุงุฏ ูุงุฑุณ
- โ ููุงุด ูุจูุบ ุจู ุญุฑูู ูุงุฑุณ
- โ ุญุฏุงูู ู ุญุฏุงฺฉุซุฑ ุดุงุฑฺ

### ุฎุตูุตุงุช ฺฉู ูพูู

#### ฺฉู ูพูู ูุดุชุฑฺฉ ุงุฏูู
- ุงุฌุงุฏ ุฎูุฏฺฉุงุฑ ููฺฏุงู seed
- user_id = null
- is_shared = true
- ููุท ุงุฏููโูุง ุจู ุขู ุฏุณุชุฑุณ ุฏุงุฑูุฏ
- ุชูุงู ุงุฏููโูุง ฺฉ ฺฉู ูพูู ูุดุชุฑฺฉ ุฏุงุฑูุฏ

#### ฺฉู ูพูู ฺฉุงุฑุจุฑ
- ุงุฌุงุฏ ุฎูุฏฺฉุงุฑ ููฺฏุงู ุซุจุชโูุงู
- user_id = user_id ฺฉุงุฑุจุฑ
- is_shared = false
- ูุฑ ฺฉุงุฑุจุฑ ฺฉู ูพูู ูุฎุตูุต ุฎูุฏ ุฑุง ุฏุงุฑุฏ

### ูุฑุขูุฏ ุดุงุฑฺ

1. ฺฉุงุฑุจุฑ ูุจูุบ ุฑุง ูุงุฑุฏ ูโฺฉูุฏ (10,000 ุชุง 2,000,000,000 ุชููุงู)
2. ุงุนุชุจุงุฑุณูุฌ ุฏุฑ Frontend ู Backend
3. ุชุจุฏู ุชููุงู ุจู ุฑุงู (ร 10)
4. ุงุฌุงุฏ ุชุฑุงฺฉูุด pending
5. ุงุฑุณุงู ุจู ุฏุฑฺฏุงู ุฒุฑูโูพุงู
6. ูพุฑุฏุงุฎุช ฺฉุงุฑุจุฑ
7. Callback ุจู ุณุฑูุฑ
8. ุชุงุฏ ูพุฑุฏุงุฎุช ุงุฒ ุฒุฑูโูพุงู
9. ุจุฑูุฒุฑุณุงู ููุฌูุฏ ฺฉู ูพูู
10. ุซุจุช ุชุฑุงฺฉูุด ุจุง ูุถุนุช success
11. ูุฏุงุช ุจู ุตูุญู ููููุช/ุฎุทุง

### ูุญุฏูุฏุชโูุง

#### ูุจูุบ ุดุงุฑฺ
- ุญุฏุงูู: 10,000 ุชููุงู (100,000 ุฑุงู)
- ุญุฏุงฺฉุซุฑ: 2,000,000,000 ุชููุงู (20,000,000,000 ุฑุงู)

#### ุฏุณุชุฑุณ
- ฺฉุงุฑุจุฑุงู: ููุท ฺฉู ูพูู ุฎูุฏ
- ุงุฏููโูุง: ููุท ฺฉู ูพูู ูุดุชุฑฺฉ

### ูุงุญุฏูุง ูพูู

#### Database
- ููุฌูุฏ: ุฑุงู (Rials)
- ุชุฑุงฺฉูุดโูุง: ุฑุงู (Rials)

#### API
- ูุฑูุฏ: ุชููุงู (Tomans)
- ุฎุฑูุฌ: ุชููุงู (Tomans)
- ููุงุด: ุชููุงู (Tomans)

#### Zarinpal
- ูพุฑุฏุงุฎุช: ุฑุงู (Rials)
- ุชุงุฏ: ุฑุงู (Rials)

#### ุชุจุฏู ูุงุญุฏูุง
```
1 Toman = 10 Rials
Example: 1,000,000 ุชููุงู = 10,000,000 ุฑุงู
```

### API Endpoints

#### GET /api/wallet
ุฏุฑุงูุช ููุฌูุฏ ฺฉู ูพูู

**Headers:**
```
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "balance": 0,
    "formatted_balance": "0.00",
    "currency": "IRR",
    "is_shared": false
  }
}
```

#### GET /api/wallet/transactions
ุฏุฑุงูุช ุชุฑุงฺฉูุดโูุง ฺฉู ูพูู

**Query Parameters:**
- page (integer)
- limit (integer)

**Response:**
```json
{
  "success": true,
  "data": [...],
  "meta": {...}
}
```

#### POST /api/wallet/recharge
ุดุฑูุน ุดุงุฑฺ ฺฉู ูพูู

**Request:**
```json
{
  "amount": 1000000,
  "method": "zarinpal"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "payment_url": "https://sandbox.zarinpal.com/...",
    "authority": "A00000000000000000000000000000000000",
    "transaction_id": 1
  }
}
```

#### POST /api/wallet/callback
ูพุฑุฏุงุฒุด ุจุงุฒฺฏุดุช ุงุฒ ุฏุฑฺฏุงู (Public)

**Parameters:**
- Authority
- Status

**Response:**
Redirect to frontend

## ๐ ุขูุงุฑ

- **ูุงูโูุง Backend ุงุฌุงุฏ ุดุฏู:** 15+
- **ูุงูโูุง Frontend ุงุฌุงุฏ ุดุฏู:** 8+
- **ุชุณุชโูุง:** 20+
- **API Endpoints:** 4
- **Components:** 3
- **ูุณุชูุฏุงุช:** 5 ูุงู

## ๐ฏ Acceptance Criteria

โ ฺฉู ูพูู ูุดุชุฑฺฉ ุจุฑุง ุงุฏููโูุง  
โ ฺฉู ูพูู ุดุฎุต ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ  
โ ุดุงุฑฺ ุงุฒ ุทุฑู ุฒุฑูโูพุงู  
โ UI/UX ุฒุจุง ู ฺฉุงุฑุจุฑุฏ  
โ Repository Pattern  
โ Policies ุจุฑุง ุฏุณุชุฑุณ  
โ Form Requests ุจุฑุง ุงุนุชุจุงุฑุณูุฌ  
โ Services ุจุฑุง ููุทู ุชุฌุงุฑ  
โ ุชุณุชโูุง ุฌุงูุน  
โ Swagger Documentation  

## ๐ Changelog

### Version 1.0.0 (2024-01-01)
- โ ูพุงุฏูโุณุงุฒ ฺฉุงูู ฺฉู ูพูู
- โ ฺฉู ูพูู ูุดุชุฑฺฉ ุงุฏูู
- โ ฺฉู ูพูู ฺฉุงุฑุจุฑ
- โ ุดุงุฑฺ ุงุฒ ุฒุฑูโูพุงู
- โ UI/UX ฺฉุงูู
- โ ุชุณุชโูุง ุฌุงูุน
- โ ูุณุชูุฏุงุช Swagger

## ๐ Notes

- ฺฉู ูพูู ูุดุชุฑฺฉ ุงุฏูู ุฏุฑ ุฒูุงู seed ุงุฌุงุฏ ูโุดูุฏ
- ฺฉู ูพูู ฺฉุงุฑุจุฑ ููฺฏุงู ุงููู ุงุณุชูุงุฏู ุงุฌุงุฏ ูโุดูุฏ
- ุชูุงู ุนููุงุช ุจู ุตูุฑุช Atomic ุงูุฌุงู ูโุดูุฏ
- Cache ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏ ุงุณุชูุงุฏู ุดุฏู ุงุณุช
- ูุณุชูุฏุงุช ุฏุฑ `documents/wallet-implementation.md` ููุฌูุฏ ุงุณุช
